# テキストベース動画編集ソフト

このソフトウェアは、**LaTeX のようにテキストだけで動画編集を行う**ことができるツールです。  
動画の本文・字幕・合成音声などを、すべてテキストで記述できます。
実行には、**VoiceVox**及び**FFmpeg**が必要です。

---

## 特徴

- **コマンドなしのテキスト**は本文として扱われ、以下が自動生成されます：
  - 字幕（テキストごとに1行）
  - 合成音声（VoiceVox）
- **改行**によって、字幕および音声は分割されます。

---

## 会話モード
- 会話モードを有効化すると、空行で話者が切り替わります
- 話者の切り替わりに伴って、字幕の色も切り替わります

## グリーンバックモード
- 背景色が単色になります
- `\setBG`で背景色を設定できます

---

## 必要な環境・依存ライブラリ

- **Python 3.10 以上**（推奨）
- 必要なパッケージは `requirements.txt` で管理されています。  
  インストール例：
  ```bash
  pip install -r requirements.txt
  ```
- **VoiceVoxエンジン**（ローカルサーバー）が必要です。  
  [VoiceVox公式サイト](https://voicevox.hiroshiba.jp/)からダウンロードし、`http://localhost:50021` でアクセスできる状態にしてください。

---

## 実行方法

1. 必要な素材（フォント・画像・音声）を `fonts/`, `images/`, `sounds/` に配置してください。
2. VoiceVoxエンジンを起動してください。
3. ソフトを起動し、入力スペースに動画のコードを入力してください。
4. 実行ボタンを押してください
5. エンコード終了後、`output/`に動画ファイルが生成されます。

---

## コマンド一覧

[コマンド一覧](commands.md)

---

## 使用例1

```text
\setSubtitle{size=36, color=yellow}
\setTalk{speed=1.2}

こんにちは、これはテキストベースの動画編集ソフトです。

\title{text=使い方, duration=2}

\se{path=start.wav}

次に、画像を表示してみましょう。

\begin{image}[scene.png]
この画像は説明のためのものです。
\end{image}
```

## 使用例2

```
\begin{bgm}[path=bgm2.mp3,volume=0.2]
\begin{image}[space.jpg]
\delay{1}
こんにちは。
突然ですが、みなさんは宇宙に行ってみたいと思ったことはありますか？

無重力でふわふわ漂って、地球を見下ろす――
そんな光景に憧れる人も多いかもしれませんね。

でも、ひとつ気になることがあります。
宇宙って、どんな“におい”がするんでしょう？
\delay{0.3}
「え、真空なんだから無臭じゃないの？」
そう思いますよね。私も最初はそう思っていました。

でも――実は、宇宙には“におい”があると言われているんです。
\end{image}
\begin{image}[space_walk.jpg]
\delay{1}
国際宇宙ステーションの宇宙飛行士たちによると、
船外活動から戻ってきた宇宙服や機材には、ある特有のにおいが残っているそうです。

それは――なんと、バーベキューの香り。

「焦げたステーキ」や「溶接工場のにおい」なんて言われることもあります。

実際にNASAの科学者たちが分析したところ、
そのにおいの正体は、多環芳香族炭化水素（PAHs)という化合物だと考えられています。
\end{image}
\begin{image}[pahs.png]
\delay{0.2}
これは炭素と水素が輪っか状に結合した分子で、地球上では肉を焼いたときの“香ばしい香り”としても知られています。

つまり――
宇宙はちょっと焦げたバーベキューのにおいがする、かもしれないんです。
\end{image}
\begin{image}[star.jpg]
\delay{0.2}
でも、このにおい。
実は「星の死」とも関係しているんです。

PAHsは、超新星爆発や恒星の老化によって作り出されることが多いのだそうです。

宇宙に漂うあの香ばしい成分は、言わば「星の残り香」。

そう考えると、ちょっとロマンチックですよね。
宇宙飛行士たちは、毎回バーベキューの香りをまとって帰ってくる。
それは、遠い星々からのメッセージなのかもしれません。
\end{image}
\begin{image}[earth.jpg]
\delay{0.2}

というわけで、今回は「宇宙のにおい」という、ちょっと変わった化学の雑学をご紹介しました。

宇宙は広くて謎だらけ。
でも、においという“身近な感覚”からも、いろいろなことがわかってくるんですね。

それでは、また次回の雑学でお会いしましょう。
ありがとうございました。
\delay{3}
\end{image}
\end{bgm}
```
---

## 注意事項・既知の制限

- VoiceVoxエンジンが起動していない場合、音声合成は失敗します。
- フォントファイルが存在しない場合、字幕やタイトルが正しく表示されません。
- Windows環境での動作を想定しています。

---

## カスタマイズ

- 設定は `tests/__init__.py` の `Config` クラスで変更できます。
- フォントやデフォルト値を編集することで、見た目や動作を調整できます。

---

## ライセンス

MIT License

---
